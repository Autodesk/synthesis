<!DOCTYPE html>
<html>
    <head>
        <link href="css/synthesisExporter.css" rel="stylesheet" type="text/css">
        <script src="js/fusionInterface.js"></script>
        <script src="js/utility.js"></script>

        <style>
            #joint-config-template
            {
                display: none;
            }
            #basic-info
            {
                padding-left: 0rem;
                padding-right: 0rem;
            }
            #basic-info
            {
                padding-right: 0rem;
            }
            .joint-config
            {
                position: relative;
            }
            .edit-sensors-button
            {
                position: absolute;
                top: -3px;
                right: 2.5rem;
                width: auto;
            }
            .wheel-side
            {
                width: 100%;
                margin-left: 0;
                margin-right: 0;
                margin-top: 0.5rem;
                margin-bottom: 0.5rem;
            }
            
            .joint-config-image {
                float: left;
                height: 90px;
                border-color: #6d6d6d;
                border-style: solid;
                border-width: 2px;
                margin-right: 10px;
            }
            
            .drivetrain-options, .mechanism-options {
                display: none;
            }
        </style>
    </head>
    <body>
        <script src="js/jointEditor.js"></script>
        <div id="export-settings">
            <p id="nodata" style="display: none; height: 0px">There were no joints found on your robot. To create a new joint, change to the "Model" workspace in the top left corner, and click "Joint" under "Assemble". You can also view our YouTube tutorial on how to add joints here: https://youtu.be/_YCP-cWn1Gc</p>

            <fieldset id="joint-config-template" class="joint-config">
                <legend class="joint-config-legend">Joint</legend>
                <button class="edit-sensors-button" onclick="editSensors(this.parentNode)">Advanced...</button>
                <img class="joint-config-image">
                <div class="driver-div">
                    <span class="field-label">Joint Type: </span>
                    <span class="field-select">
                        <select class="joint-type" onchange="updateFieldOptions(this)">
                            <option value="none">(Select an Option)</option>
                            <option value="drivetrain">Drivetrain Wheel</option>
                            <option value="mechanism">Mechanism Joint</option>
                        </select>
                    </span>
                    <div class="drivetrain-options">
                        <span class="field-label">Side: </span>
                        <span class="field-select">
                        <select class="dt-side" onchange="updateFieldOptions(this)">
                            <option value="0">Right</option>
                            <option value="1">Left</option>
                            <option value="2">H-Drive Center</option>
                        </select>
                        </span>
                        <span class="field-label">Wheel Type: </span>
                        <span class="field-select" style="margin-bottom: 0px;">
                        <select class="wheel-type" onchange="updateFieldOptions(this)">
                            <option value="0">Normal</option>
                            <option value="1">Omni</option>
                            <option value="2">Mecanum</option>
                        </select>
                        </span>
                    </div>
                    <div class="mechanism-options">
                        <span class="field-label">Weight (lbs):</span>
                        <span class="field-select" style="padding-right: 2px">
                            <input class="weight" type="number" min="1" max="5">
                        </span>
                        <span class="field-label">Driver Type: </span>
                        <span class="field-select" style="margin-bottom: 0px;">
                        <select class="driver-type" onchange="updateFieldOptions(this)">
                            <option value="0">None</option>
                            <option value="1" class="angular-driver">Motor</option>
                            <option value="2" class="angular-driver">Servo</option>
                            <option value="3" class="linear-driver" style="display: none">Worm Screw</option>
                            <option value="4" class="linear-driver" style="display: none">Bumper Pnuematic</option>
                            <option value="5" class="linear-driver" style="display: none">Relay Pnuematic</option>
                            <option value="6" class="angular-driver">Dual Motor</option>
                            <option value="7" class="linear-driver">Elevator</option>
                        </select>
                    </span>
                    </div>
                </div>
            </fieldset>
        </div>
        
        <button id='save-button' type='button' onclick='sendInfoToFusion()'>Save</button>

        <script>
            var jointTemplate = document.getElementById('joint-config-template').cloneNode(true);
        </script>
    </body>
</html>